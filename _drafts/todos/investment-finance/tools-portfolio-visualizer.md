# Portfolio Visualizer 网站使用指南

> 作者：有心言者
> 更新：2025年9月
> 用途：投资策略回测与分析

## 🌐 网站介绍

**Portfolio Visualizer** (https://www.portfoliovisualizer.com/) 是投资者必备的免费回测分析工具。它能够：
- 📊 回测任意投资组合的历史表现
- 🎯 比较不同策略的风险收益特征
- 📈 进行蒙特卡罗模拟和优化分析
- 💡 提供专业级的投资分析报告

免费版功能已经足够强大，付费版提供更长的历史数据和更多高级功能。

## 🚀 快速开始：三步创建回测

### 第1步：进入分析页面
1. 访问 https://www.portfoliovisualizer.com/
2. 点击顶部菜单 **"Analysis"**
3. 选择 **"Backtest Asset Allocation"**（资产配置回测）
4. 点击右下角 **"Open Analysis"**

### 第2步：配置投资组合
进入 "Portfolio Assets" 标签页，您会看到：

```
资产配置表格：
- Asset 1: 选择资产类型（如 US Stock Market）
- Portfolio #1: 输入配置比例（如 60%）
- Portfolio #2: 输入对比组合比例（如 40%）
- Total: 必须等于 100%
```

**常用资产类型**：
- US Stock Market - 美国股市总体
- Global ex-US Stock Market - 美国以外全球股市
- Total US Bond Market - 美国债券市场
- REIT - 房地产投资信托
- Gold - 黄金
- Commodities - 大宗商品

### 第3步：设置关键参数
点击 **"Settings"** 标签页，配置最重要的参数：

## ⚙️ 核心参数设置（Settings）

### 🔝 最重要的5个参数

#### 1. **Time Period（时间周期）**
- **推荐**：Start Year 2010, End Year 2025
- **原因**：包含2008金融危机后的完整周期
- **提示**：更长历史能看到更多市场状况

#### 2. **Rebalancing（再平衡）**
- **推荐**：Rebalance Annually（年度再平衡）
- **影响**：
  - No rebalancing：让赢家继续跑，可能偏离初始配置
  - Annual：每年恢复目标配置，风险可控
  - Monthly：频繁交易，可能增加成本

#### 3. **Reinvest Dividends（股息再投资）**
- **必选**：Yes ✅
- **原因**：看到真实总回报（Total Return）
- **对比**：选No只能看到价格回报，忽略了股息复利

#### 4. **Cashflows（现金流）**
三种模式对应不同场景：
- **None**：一次性投资（默认）
- **Contribute Fixed Amount**：定投测试
  - 例：Monthly $500（每月定投$500）
- **Withdraw Fixed Amount**：退休提取
  - 例：Monthly $4,000（4%规则测试）

#### 5. **Initial Amount（初始金额）**
- **标准**：$10,000（便于计算百分比）
- **实际**：使用您的真实投资金额
- **用途**：计算实际收益金额

## 📊 功能模块详解

### 1. Backtest Portfolio（组合回测）⭐最常用
- **Backtest Asset Allocation**：资产类别配置（股债配置）
- **Backtest Portfolio**：具体股票/ETF组合
- **Backtest Dynamic Allocation**：动态调整策略
- **Manager Performance**：基金经理业绩分析

### 2. Factor Analysis（因子分析）
- **Factor Regression**：Fama-French因子回归
- **Risk Factor Allocation**：风险因子配置
- 用途：理解收益来源（市场、规模、价值、动量）

### 3. Monte Carlo Simulation（蒙特卡罗模拟）⭐退休规划必备
- **Financial Goals**：财务目标达成概率
- **Asset Liability Modeling**：资产负债模型
- 用途：测试退休计划可行性（如4%提取规则）

### 4. Portfolio Optimization（组合优化）
- **Efficient Frontier**：有效前沿分析
- **Black-Litterman Model**：结合市场观点的优化
- 用途：找出最优风险收益配置

### 5. Tactical Asset Allocation（战术配置）
- **Moving Averages**：均线择时策略
- **Momentum Rotation**：动量轮动策略
- **Target Volatility**：目标波动率策略
- 用途：测试主动管理策略

## 📈 分析结果解读

回测完成后，您会看到以下关键指标：

### Performance Summary（绩效摘要）
- **CAGR**：年化复合收益率（最重要）
- **Stdev**：标准差（波动率）
- **Best/Worst Year**：最好/最差年份表现
- **Max Drawdown**：最大回撤
- **Sharpe Ratio**：夏普比率（风险调整后收益）

### Risk and Return Metrics（风险收益指标）
- **Sortino Ratio**：索提诺比率（只考虑下行风险）
- **Calmar Ratio**：收益/最大回撤
- **Alpha/Beta**：超额收益和系统性风险

### Annual Returns（年度收益）
- 查看每年的具体表现
- 识别表现异常的年份
- 理解不同市场环境的影响

## 💡 实战应用示例

### 示例1：经典60/40组合测试
```
Portfolio 1:
- US Stock Market: 60%
- Total US Bond Market: 40%

Settings:
- Time: 2000-2025
- Rebalance: Annually
- Reinvest Dividends: Yes
```

### 示例2：三基金组合
```
Portfolio 1:
- US Stock Market: 60%
- Global ex-US Stock: 20%
- Total US Bond: 20%
```

### 示例3：定投策略测试
```
Settings:
- Initial Amount: $1,000
- Cashflows: Contribute $500 Monthly
- Time: 2010-2025
```

## ⚠️ 注意事项

1. **数据限制**：
   - 免费版历史数据有限（通常10-30年）
   - 某些资产类别数据不完整

2. **幸存者偏差**：
   - 只包含存活至今的基金/股票
   - 可能高估历史收益

3. **费用考虑**：
   - 回测不包含交易成本
   - 需自行考虑管理费、税收影响

4. **过度拟合**：
   - 不要过度优化历史数据
   - 过去表现不代表未来

## 🎯 最佳实践

1. **对比多个组合**：同时测试2-3个策略
2. **包含完整周期**：至少包含一次牛熊转换
3. **合理预期**：历史收益通常高于未来预期
4. **关注风险**：不只看收益，更要看回撤和波动
5. **定期重测**：每年更新数据重新验证

## 💰 订阅计划对比（2025年最新）

### 三个版本对比表

| 功能 | Free 免费版 | Basic 基础版 | Pro 专业版 |
|------|------------|-------------|------------|
| **价格** | $0 | **$30/月** | **$55/月** |
| **计费方式** | 无需登录 | 按年付费 | 按年付费 |
| **使用范围** | 个人/教育 | 个人/教育 | 个人/**商业** |
| **核心功能** | | | |
| 组合回测 | ✅ (限15个资产) | ✅ (150个资产) | ✅ (150个资产) |
| 蒙特卡罗模拟 | ✅ | ✅ | ✅ |
| 组合优化 | ✅ | ✅ | ✅ |
| 因子回归 | ✅ | ✅ | ✅ |
| 资产分析 | ✅ | ✅ | ✅ |
| 战术配置模型 | ✅ (基础) | ✅ (含信号) | ✅ (含信号) |
| **高级功能** | | | |
| 保存组合模型 | ❌ | ✅ (50个) | ✅ (150个) |
| Excel/CSV/PDF导出 | ❌ | ✅ | ✅ |
| 自定义报告 | ❌ | ✅ | ✅ |
| 自定义数据序列 | ❌ | ✅ | ✅ |
| 管理费设置 | ❌ | ✅ | ✅ |
| 税务假设设置 | ❌ | ✅ | ✅ |
| 团队账户同步 | ❌ | ✅ | ✅ |

### 关键限制说明

1. **免费版限制** ⚠️
   - 最多15个资产（ETF/股票）
   - 历史数据有限
   - 不包含当月最新数据
   - 无法保存结果

2. **Basic/Pro版优势** ✅
   - 支持150个资产
   - 包含YTD（年初至今）数据
   - 战术模型显示未来交易信号
   - 可配置资产数据回填

3. **Pro版独特价值** 🌟
   - **商业使用许可**（可用于客户报告）
   - 150个组合模型存储（Basic只有50个）
   - 更多定制化选项

### 选择建议

#### 🆓 **免费版适合**：
- 个人投资者简单回测
- 学习和实验
- 偶尔使用
- 资产少于15个的组合

#### 💎 **Basic版适合**（$30/月）：
- 认真的个人投资者
- 需要保存多个策略
- 需要导出报告
- 经常使用回测功能

#### 👑 **Pro版适合**（$55/月）：
- 投资顾问/理财师
- 需要给客户做报告
- 管理多个复杂组合
- 商业用途

### 性价比分析

**对大多数个人投资者来说**：
- 免费版已经足够强大 ✅
- 可以测试3-5个ETF组合
- 获得专业级分析结果
- 无需付费即可验证策略

**值得升级的情况**：
1. 需要测试>15个股票的组合
2. 频繁使用需要保存结果
3. 需要最新月度数据
4. 做投资咨询需要专业报告

## 🔗 相关资源

- 官网：https://www.portfoliovisualizer.com/
- 定价页面：https://www.portfoliovisualizer.com/pricing
- 替代工具：Morningstar Direct, FactSet（机构级）
- 学习资源：Bogleheads论坛有详细讨论

## ❓ 常见问题解答（FAQ）

### 1. 数据相关

**Q: 数据来源是什么？可靠吗？**
A: Portfolio Visualizer使用多个权威数据源：
- 股票/ETF价格：来自交易所官方数据
- 分红数据：来自公司公告
- 通胀数据：美联储经济数据库（FRED）
- 数据每日更新，相当可靠

**Q: 为什么某些ETF只有部分历史数据？**
A: 数据从ETF成立日期开始。例如：
- VOO成立于2010年，之前无数据
- SPY成立于1993年，历史更长
- 建议选择历史较长的资产做回测

**Q: 免费版数据延迟多久？**
A: 免费版通常延迟1个月，不包含当月数据。付费版包含最新YTD数据。

### 2. 回测相关

**Q: 回测结果为什么与实际收益不同？**
A: 几个常见原因：
- 未考虑交易成本（佣金、滑点）
- 未考虑税收影响
- 股息再投资时间点差异
- 再平衡执行价格差异

**Q: 什么是"幸存者偏差"？**
A: 只统计存活至今的基金/股票，忽略了破产退市的。这会高估历史收益。
- 解决方法：使用指数ETF而非个股
- 保持合理预期

**Q: 为什么要选择"Reinvest Dividends"？**
A: 股息再投资能展示真实总回报（Total Return）：
- 选Yes：包含股息复利效应
- 选No：只看价格变化
- 差异可达30-40%的长期收益

### 3. 指标解释

**Q: 夏普比率多少算好？**
- < 0.5：较差
- 0.5-1.0：一般
- 1.0-1.5：良好
- > 1.5：优秀
- > 2.0：极其优秀（或需验证）

**Q: 最大回撤多少可以接受？**
- 保守型投资者：< 10%
- 平衡型投资者：10-25%
- 激进型投资者：25-40%
- 极度激进：> 40%

**Q: CAGR vs 平均年收益的区别？**
- CAGR（复合年增长率）：考虑复利效应
- 算术平均：简单平均
- CAGR通常低于算术平均，但更准确

### 4. 使用技巧

**Q: 如何避免过度拟合？**
A:
- 不要过度优化历史数据
- 测试多个时间段
- 包含不同市场环境
- 简单策略往往更稳健

**Q: 回测多长时间比较合适？**
A:
- 最少：一个完整市场周期（7-10年）
- 理想：15-20年（包含多次牛熊）
- 注意：太长可能不反映现代市场

**Q: 如何处理没有历史数据的新ETF？**
A: 可以使用相似的老ETF作为代理：
- ARK创新ETF → 用QQQ近似
- 新兴市场ETF → 用EEM代替
- 但要注意差异性

### 5. 高级功能

**Q: Monte Carlo模拟是什么？**
A: 通过随机模拟数千种市场情景，评估策略成功概率：
- 用途：退休规划
- 输入：历史收益和波动率
- 输出：成功率百分比

**Q: Factor Analysis有什么用？**
A: 分解收益来源：
- Market (Beta)：市场风险
- Size：小盘股效应
- Value：价值因子
- Momentum：动量因子
- 帮助理解超额收益来源

**Q: 什么时候需要付费版？**
A:
- 测试超过15个资产
- 需要最新月度数据
- 频繁使用需要保存
- 商业用途（客户报告）
- 否则免费版足够

### 6. 常见错误

**Q: 为什么总配置必须等于100%？**
A: 这是投资组合的基本要求。如果<100%，剩余部分默认为现金；如果>100%，意味着使用杠杆。

**Q: 为什么某些资产无法选择？**
A: 可能原因：
- 免费版限制（最多15个）
- 数据不完整
- 资产类型不支持

**Q: 回测结果太好，是否可信？**
A: 检查几点：
- 是否包含熊市期间？
- 是否过度优化？
- 费用是否考虑？
- 建议降低预期20-30%

## 📝 总结

Portfolio Visualizer是散户投资者的利器，能够：
- ✅ 验证投资策略的历史表现
- ✅ 比较不同组合的优劣
- ✅ 测试退休计划的可行性
- ✅ 优化资产配置比例

掌握这个工具，您就拥有了专业级的投资分析能力！

## 🎯 快速参考卡

### 新手第一个回测（复制这个设置）
```
网址: https://www.portfoliovisualizer.com/
路径: Analysis → Backtest Asset Allocation → Open Analysis

Portfolio Assets:
Asset 1: US Stock Market → 60%
Asset 2: Total US Bond Market → 40%

Settings:
- Time Period: 2010-2025
- Rebalancing: Annually
- Reinvest Dividends: Yes ✅
- Initial Amount: $10,000
- Cashflows: None

点击 "Run Backtest" 查看结果
```

### 常用ETF代码速查
```
股票ETF:
SPY - 标普500
VOO - 标普500(低费用)
VTI - 全美股市
QQQ - 纳斯达克100
VXUS - 美国以外全球股票

债券ETF:
AGG - 美国总债券市场
BND - 先锋总债券市场
TLT - 20+年美国国债

其他:
VNQ - 房地产REITs
GLD - 黄金
```

---

*提示：开始使用前建议先用经典60/40组合练手，熟悉界面后再测试自己的策略。*