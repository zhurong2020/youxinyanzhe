# å¾®ä¿¡å†…å®¹å˜ç°ç³»ç»Ÿ

## ğŸ“– ç³»ç»Ÿæ¦‚è¿°

å¾®ä¿¡å†…å®¹å˜ç°ç³»ç»Ÿæ˜¯ä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼Œä¸“ä¸ºè§£å†³GitHub Pagesåœ¨å›½å†…è®¿é—®é™åˆ¶é—®é¢˜è€Œè®¾è®¡ï¼Œé€šè¿‡å¾®ä¿¡å…¬ä¼—å·æ‰“èµæœºåˆ¶å®ç°ä¼˜è´¨å†…å®¹çš„åˆç†å˜ç°ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **è‡ªåŠ¨å†…å®¹æ‰“åŒ…**: å°†åšå®¢æ–‡ç« è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡PDFå’Œèµ„æ–™åŒ…
- **GitHub Releaseå­˜å‚¨**: åˆ©ç”¨GitHub Releaseä½œä¸ºå…è´¹ã€æ°¸ä¹…çš„æ–‡ä»¶å­˜å‚¨
- **æ™ºèƒ½é‚®ä»¶å‘é€**: è‡ªåŠ¨å‘ç”¨æˆ·å‘é€ç²¾ç¾çš„HTMLé‚®ä»¶å’Œä¸‹è½½é“¾æ¥
- **WeChaté¡µè„šé›†æˆ**: ç°æœ‰å‘å¸ƒæµç¨‹è‡ªåŠ¨æ·»åŠ è·å–å®Œæ•´å†…å®¹çš„è¯´æ˜
- **Tokenå®‰å…¨ç®¡ç†**: è‡ªåŠ¨ç›‘æ§GitHub Tokenè¿‡æœŸæ—¶é—´ï¼Œæä¾›åŠæ—¶æé†’

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®å¿…è¦çš„APIå¯†é’¥ï¼š

```bash
# GitHubé…ç½®
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_USERNAME=your_username
GITHUB_REPO=your_repo_name

# Gmail SMTPé…ç½®
GMAIL_USER=your_email@gmail.com
GMAIL_APP_PASSWORD=your_16_char_app_password
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# å¾®ä¿¡å…¬ä¼—å·é…ç½®
WECHAT_APPID=your_wechat_appid
WECHAT_APPSECRET=your_wechat_appsecret
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. ç³»ç»Ÿæµ‹è¯•

```bash
# è¿è¡Œç³»ç»Ÿæµ‹è¯•
python scripts/test_reward_system.py

# æ£€æŸ¥GitHub TokençŠ¶æ€
python scripts/check_github_token.py
```

## ğŸ“‹ ä¸»è¦å‘½ä»¤

### åŸºç¡€æ“ä½œ

```bash
# ä¸ºæ–‡ç« åˆ›å»ºèµ„æ–™åŒ…å¹¶ä¸Šä¼ åˆ°GitHub Release
python scripts/reward_system_manager.py create _posts/article-name.md

# å‘ç”¨æˆ·å‘é€å¥–åŠ±å†…å®¹åŒ…
python scripts/reward_system_manager.py send user@example.com "æ–‡ç« æ ‡é¢˜"

# æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯
python scripts/reward_system_manager.py stats
```

### æ‰¹é‡å¤„ç†

```bash
# æ·»åŠ å¾…å¤„ç†è¯·æ±‚
python scripts/reward_system_manager.py add user@example.com "æ–‡ç« æ ‡é¢˜" --name "ç”¨æˆ·å"

# æ‰¹é‡å¤„ç†å¾…å¤„ç†è¯·æ±‚
python scripts/reward_system_manager.py process --batch-size 10
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
æ–‡ç« å‘å¸ƒ â†’ è‡ªåŠ¨ç”ŸæˆPDFåŒ… â†’ ä¸Šä¼ GitHub Release â†’ å¾®ä¿¡æ–‡ç« æ·»åŠ é¡µè„š
                                                    â†“
ç”¨æˆ·æ‰“èµ â†’ æˆªå›¾+é‚®ç®±ç§ä¿¡ â†’ æ‰‹åŠ¨å¤„ç† â†’ è‡ªåŠ¨å‘é€é‚®ä»¶åŒ…å«ä¸‹è½½é“¾æ¥
```

### æ ¸å¿ƒç»„ä»¶

1. **GitHub Releaseç®¡ç†å™¨** (`github_release_manager.py`)
   - è‡ªåŠ¨åˆ›å»ºRelease
   - ä¸Šä¼ ZIPæ ¼å¼çš„å†…å®¹åŒ…
   - ç®¡ç†ä¸‹è½½é“¾æ¥å’Œç»Ÿè®¡

2. **å†…å®¹æ‰“åŒ…ç³»ç»Ÿ** (`package_creator.py`)
   - ç”Ÿæˆé«˜è´¨é‡PDF
   - æ”¶é›†æ–‡ç« å›¾ç‰‡
   - æ•´ç†ç›¸å…³é“¾æ¥
   - åˆ›å»ºèµ„æ–™æ¸…å•

3. **é‚®ä»¶å‘é€ç³»ç»Ÿ** (`email_sender.py`)
   - Gmail SMTPé›†æˆ
   - ç²¾ç¾HTMLé‚®ä»¶æ¨¡æ¿
   - å‘é€è®°å½•ç®¡ç†

4. **WeChatå‘å¸ƒé›†æˆ** (`wechat_publisher.py`)
   - è‡ªåŠ¨æ·»åŠ å¥–åŠ±é¡µè„š
   - é›†æˆç°æœ‰å‘å¸ƒæµç¨‹

5. **ç³»ç»Ÿç®¡ç†å™¨** (`reward_system_manager.py`)
   - ç»Ÿä¸€å‘½ä»¤è¡Œç•Œé¢
   - æ‰¹é‡å¤„ç†åŠŸèƒ½
   - ç³»ç»Ÿç»Ÿè®¡å’Œç›‘æ§

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### GitHub Tokenç®¡ç†

ç³»ç»Ÿä¼šè‡ªåŠ¨ç›‘æ§GitHub TokençŠ¶æ€ï¼š
- 30å¤©å‰ï¼šâœ… çŠ¶æ€è‰¯å¥½
- 14å¤©å‰ï¼šğŸ“… å»ºè®®æ›´æ–°  
- 7å¤©å‰ï¼šâš ï¸ éœ€è¦æ›´æ–°
- å·²è¿‡æœŸï¼šâŒ ç«‹å³æ›´æ–°

### ç³»ç»Ÿç»Ÿè®¡

```bash
python scripts/reward_system_manager.py stats
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸ“Š ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯:
âœ… GitHub Token: 89 å¤©åè¿‡æœŸ
GitHub Releases: 0 ä¸ª
æ€»ä¸‹è½½æ¬¡æ•°: 0 æ¬¡
é‚®ä»¶å‘é€: 0 æˆåŠŸ, 0 å¤±è´¥
æˆåŠŸç‡: 0.0%
å¾…å¤„ç†è¯·æ±‚: 0 ä¸ª
å·²å¤„ç†è¯·æ±‚: 0 ä¸ª
```

## ğŸ”§ å·¥ä½œæµç¨‹

### å†…å®¹åˆ›ä½œè€…æµç¨‹

1. **å‘å¸ƒæ–‡ç« ** - ä½¿ç”¨ç°æœ‰çš„å†…å®¹å‘å¸ƒè„šæœ¬
2. **è‡ªåŠ¨å¤„ç†** - ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆèµ„æ–™åŒ…å¹¶ä¸Šä¼ åˆ°GitHub Release
3. **å¾®ä¿¡å‘å¸ƒ** - æ–‡ç« æœ«å°¾è‡ªåŠ¨æ·»åŠ è·å–å®Œæ•´å†…å®¹çš„è¯´æ˜

### ç”¨æˆ·äº¤äº’æµç¨‹

1. **ç”¨æˆ·æ‰“èµ** - åœ¨å¾®ä¿¡å…¬ä¼—å·æ–‡ç« ä¸‹æ‰“èµä»»æ„é‡‘é¢
2. **æäº¤ä¿¡æ¯** - æˆªå›¾å‘é€åˆ°å…¬ä¼—å·å¹¶æä¾›é‚®ç®±åœ°å€
3. **æ‰‹åŠ¨å¤„ç†** - å†…å®¹åˆ›ä½œè€…ä½¿ç”¨ç³»ç»Ÿå·¥å…·å‘é€èµ„æ–™åŒ…
4. **è‡ªåŠ¨å‘é€** - ç³»ç»Ÿè‡ªåŠ¨å‘é€åŒ…å«ä¸‹è½½é“¾æ¥çš„ç²¾ç¾é‚®ä»¶

## ğŸ“ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ reward_system_manager.py    # ä¸»ç®¡ç†è„šæœ¬
â”œâ”€â”€ github_release_manager.py   # GitHub Releaseç®¡ç†
â”œâ”€â”€ email_sender.py             # é‚®ä»¶å‘é€ç³»ç»Ÿ
â”œâ”€â”€ package_creator.py          # å†…å®¹æ‰“åŒ…ç³»ç»Ÿ
â”œâ”€â”€ check_github_token.py       # TokençŠ¶æ€æ£€æŸ¥
â””â”€â”€ test_reward_system.py       # ç³»ç»Ÿæµ‹è¯•è„šæœ¬

config/templates/
â””â”€â”€ wechat_reward_footer.html   # WeChaté¡µè„šæ¨¡æ¿

_data/                          # æ•°æ®å­˜å‚¨ç›®å½•ï¼ˆgitå¿½ç•¥ï¼‰
â”œâ”€â”€ github_releases.json       # Releaseè®°å½•
â”œâ”€â”€ email_records.json         # é‚®ä»¶å‘é€è®°å½•
â”œâ”€â”€ github_token_status.json   # TokençŠ¶æ€ç¼“å­˜
â”œâ”€â”€ pending_reward_requests.json   # å¾…å¤„ç†è¯·æ±‚
â””â”€â”€ processed_reward_requests.json # å·²å¤„ç†è¯·æ±‚

_output/                        # è¾“å‡ºç›®å½•ï¼ˆgitå¿½ç•¥ï¼‰
â”œâ”€â”€ packages/                   # ç”Ÿæˆçš„å†…å®¹åŒ…
â””â”€â”€ wechat_guides/             # WeChatå‘å¸ƒæŒ‡å¯¼
```

## ğŸ” å®‰å…¨è€ƒè™‘

- **ç¯å¢ƒå˜é‡éš”ç¦»**: æ‰€æœ‰æ•æ„Ÿä¿¡æ¯é€šè¿‡ `.env` æ–‡ä»¶ç®¡ç†
- **æ•°æ®æ–‡ä»¶ä¿æŠ¤**: æ‰€æœ‰æ•°æ®æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`
- **Tokenç›‘æ§**: è‡ªåŠ¨ç›‘æ§GitHub Tokenè¿‡æœŸæ—¶é—´
- **æƒé™æœ€å°åŒ–**: GitHub Tokenä»…éœ€è¦ `repo-Contents` æƒé™

## ğŸ“š æ‰©å±•åŠŸèƒ½

### è®¡åˆ’ä¸­çš„åŠŸèƒ½

- **å¾®ä¿¡æ¶ˆæ¯è‡ªåŠ¨è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«æ‰“èµæˆªå›¾å’Œé‚®ç®±ä¿¡æ¯
- **ç»Ÿè®¡åˆ†æé¢æ¿**: è¯¦ç»†çš„æ”¶ç›Šå’Œç”¨æˆ·è¡Œä¸ºåˆ†æ
- **ä¼šå‘˜åˆ¶åº¦**: æ”¯æŒæœˆåº¦ä¼šå‘˜å’Œæ‰¹é‡å†…å®¹è®¿é—®

### è‡ªå®šä¹‰é…ç½®

ç³»ç»Ÿæ”¯æŒå¤šç§è‡ªå®šä¹‰é€‰é¡¹ï¼š
- é‚®ä»¶æ¨¡æ¿å®šåˆ¶
- é¡µè„šæ–‡æ¡ˆè°ƒæ•´
- æ‰“åŒ…å†…å®¹é…ç½®
- è¿‡æœŸæé†’è®¾ç½®

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **GitHub Tokenæ— æ•ˆ**
   ```bash
   python scripts/check_github_token.py
   ```

2. **é‚®ä»¶å‘é€å¤±è´¥**
   ```bash
   python scripts/email_sender.py test
   ```

3. **ä¾èµ–åŒ…é—®é¢˜**
   ```bash
   pip install -r requirements.txt
   ```

### è·å–æ”¯æŒ

- æŸ¥çœ‹é¡¹ç›® `PROJECT_ROADMAP.md` äº†è§£æœ€æ–°è¿›å±•
- è¿è¡Œæµ‹è¯•è„šæœ¬è¯Šæ–­é—®é¢˜
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶äº†è§£è¯¦ç»†é”™è¯¯ä¿¡æ¯

---

*è¯¥ç³»ç»Ÿè®¾è®¡æ³¨é‡å®‰å…¨æ€§ã€è‡ªåŠ¨åŒ–å’Œç”¨æˆ·ä½“éªŒï¼Œä¸ºä¼˜è´¨å†…å®¹åˆ›ä½œæä¾›å¯æŒç»­çš„å˜ç°è§£å†³æ–¹æ¡ˆã€‚*