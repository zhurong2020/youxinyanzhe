# YouTube OAuth2 è®¾ç½®å®Œæ•´æŒ‡å—

## ğŸ¯ ç›®æ ‡
è®¾ç½®YouTube OAuth2è®¤è¯ï¼Œå®ç°å®Œå…¨è‡ªåŠ¨åŒ–çš„éŸ³é¢‘æ–‡ä»¶ä¸Šä¼ åˆ°YouTubeã€‚

## ğŸ“‹ å‰ææ¡ä»¶
âœ… ä¾èµ–å·²å®‰è£…ï¼š`google-auth-oauthlib`, `google-auth-httplib2`  
âœ… æ¨¡æ¿é…ç½®æ–‡ä»¶å·²åˆ›å»ºï¼š`config/youtube_oauth_credentials.json`

## ğŸš€ è¯¦ç»†è®¾ç½®æ­¥éª¤

### ç¬¬1æ­¥ï¼šåˆ›å»ºGoogle Cloudé¡¹ç›®

1. **è®¿é—®Google Cloud Console**
   - æ‰“å¼€ https://console.cloud.google.com/
   - ç™»å½•ä½ çš„Googleè´¦å·

2. **åˆ›å»ºæˆ–é€‰æ‹©é¡¹ç›®**
   - ç‚¹å‡»é¡¶éƒ¨çš„é¡¹ç›®é€‰æ‹©å™¨
   - é€‰æ‹©ç°æœ‰é¡¹ç›®æˆ–ç‚¹å‡»"æ–°å»ºé¡¹ç›®"
   - é¡¹ç›®åç§°å»ºè®®ï¼š`youxinyanzhe-youtube-uploader`

### ç¬¬2æ­¥ï¼šå¯ç”¨YouTube Data API v3

1. **è¿›å…¥APIåº“**
   - åœ¨å·¦ä¾§èœå•ä¸­ï¼Œç‚¹å‡»"APIs & Services" > "Library"
   
2. **æœç´¢å¹¶å¯ç”¨API**
   - æœç´¢"YouTube Data API v3"
   - ç‚¹å‡»è¿›å…¥ï¼Œç„¶åç‚¹å‡»"å¯ç”¨"

### ç¬¬3æ­¥ï¼šåˆ›å»ºOAuth2å‡­æ®

1. **è¿›å…¥å‡­æ®é¡µé¢**
   - ç‚¹å‡»"APIs & Services" > "Credentials"

2. **åˆ›å»ºOAuth client ID**
   - ç‚¹å‡»"+ CREATE CREDENTIALS" > "OAuth client ID"
   
3. **é…ç½®OAuthåŒæ„å±å¹•**ï¼ˆå¦‚æœæ˜¯é¦–æ¬¡åˆ›å»ºï¼‰
   - é€‰æ‹©"External"ï¼ˆå¤–éƒ¨ç”¨æˆ·ç±»å‹ï¼‰
   - å¡«å†™åº”ç”¨åç§°ï¼š`YouXinYanZhe YouTube Uploader`
   - å¡«å†™ç”¨æˆ·æ”¯æŒé‚®ç®±ï¼šä½ çš„é‚®ç®±
   - å¼€å‘è€…è”ç³»ä¿¡æ¯ï¼šä½ çš„é‚®ç®±
   - ç‚¹å‡»"ä¿å­˜å¹¶ç»§ç»­"
   - åœ¨"èŒƒå›´"é¡µé¢ï¼Œç‚¹å‡»"æ·»åŠ æˆ–åˆ é™¤èŒƒå›´"
   - æœç´¢å¹¶æ·»åŠ ï¼š`../auth/youtube.upload`
   - ä¿å­˜å¹¶ç»§ç»­
   - åœ¨"æµ‹è¯•ç”¨æˆ·"é¡µé¢ï¼Œæ·»åŠ ä½ çš„Gmailé‚®ç®±ä½œä¸ºæµ‹è¯•ç”¨æˆ·

4. **åˆ›å»ºå®¢æˆ·ç«¯ID**
   - åº”ç”¨ç±»å‹é€‰æ‹©ï¼š**"Desktop application"**
   - åç§°ï¼š`YouXinYanZhe Desktop Client`
   - ç‚¹å‡»"åˆ›å»º"

5. **ä¸‹è½½å‡­æ®æ–‡ä»¶**
   - åˆ›å»ºæˆåŠŸåï¼Œä¼šå¼¹å‡ºä¸‹è½½å¯¹è¯æ¡†
   - ç‚¹å‡»"ä¸‹è½½JSON"ä¿å­˜æ–‡ä»¶

### ç¬¬4æ­¥ï¼šé…ç½®å‡­æ®æ–‡ä»¶

1. **æ›¿æ¢æ¨¡æ¿æ–‡ä»¶**
   - å°†ä¸‹è½½çš„JSONæ–‡ä»¶é‡å‘½åä¸ºï¼š`youtube_oauth_credentials.json`
   - æ›¿æ¢é¡¹ç›®ä¸­çš„æ¨¡æ¿æ–‡ä»¶ï¼š`config/youtube_oauth_credentials.json`

2. **éªŒè¯æ–‡ä»¶æ ¼å¼**
   æ–‡ä»¶åº”è¯¥ç±»ä¼¼è¿™æ ·ï¼š
   ```json
   {
     "installed": {
       "client_id": "123456789-abcdefg.apps.googleusercontent.com",
       "project_id": "youxinyanzhe-youtube-uploader",
       "auth_uri": "https://accounts.google.com/o/oauth2/auth",
       "token_uri": "https://oauth2.googleapis.com/token",
       "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
       "client_secret": "GOCSPX-abcdefghijklmnop",
       "redirect_uris": ["urn:ietf:wg:oauth:2.0:oob", "http://localhost"]
     }
   }
   ```

### ç¬¬5æ­¥ï¼šé¦–æ¬¡è®¤è¯æµ‹è¯•

1. **è¿è¡ŒYouTubeä¸Šä¼ å·¥å…·**
   ```bash
   source venv/bin/activate
   python youtube_upload.py
   ```

2. **è‡ªåŠ¨è®¤è¯æµç¨‹**
   - é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
   - ç™»å½•ä½ çš„Googleè´¦å·
   - é€‰æ‹©é¡¹ç›®å¹¶æˆæƒåº”ç”¨è®¿é—®YouTube
   - å®Œæˆåæµè§ˆå™¨ä¼šæ˜¾ç¤ºæˆåŠŸä¿¡æ¯

3. **éªŒè¯è®¤è¯æˆåŠŸ**
   - æ§åˆ¶å°åº”æ˜¾ç¤ºï¼š`âœ… YouTube OAuth2è®¤è¯æˆåŠŸ`
   - ä¼šç”Ÿæˆï¼š`config/youtube_oauth_token.json`ï¼ˆè‡ªåŠ¨ä¿å­˜çš„è®¤è¯tokenï¼‰

## ğŸ§ª æµ‹è¯•ä¸Šä¼ 

### æµ‹è¯•å•ä¸ªæ–‡ä»¶ä¸Šä¼ 
1. è¿è¡Œå·¥å…·ï¼š`python youtube_upload.py`
2. é€‰æ‹©é€‰é¡¹ `2` - é€‰æ‹©éŸ³é¢‘æ–‡ä»¶å¹¶ä¸Šä¼ åˆ°YouTube
3. é€‰æ‹©ä»»æ„ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶è¿›è¡Œæµ‹è¯•
4. ç­‰å¾…è§†é¢‘ç”Ÿæˆå’Œä¸Šä¼ å®Œæˆ
5. è·å¾—YouTubeé“¾æ¥

### æµ‹è¯•æ‰¹é‡ä¸Šä¼ 
1. é€‰æ‹©é€‰é¡¹ `3` - æ‰¹é‡ä¸Šä¼ æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶
2. ç¡®è®¤æ‰¹é‡æ“ä½œ
3. ç­‰å¾…æ‰€æœ‰6ä¸ªæ–‡ä»¶å¤„ç†å®Œæˆ

## âœ… æˆåŠŸæ ‡å¿—

è®¤è¯æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š
- `âœ… YouTube OAuth2è®¤è¯æˆåŠŸ`
- `âœ… è§†é¢‘ç”ŸæˆæˆåŠŸ`
- `âœ… YouTubeä¸Šä¼ æˆåŠŸ`
- `è§†é¢‘ID: abc123xyz`
- `é“¾æ¥: https://www.youtube.com/watch?v=abc123xyz`

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ä¿æŠ¤å‡­æ®æ–‡ä»¶**
   - `config/youtube_oauth_credentials.json` åŒ…å«æ•æ„Ÿä¿¡æ¯
   - `config/youtube_oauth_token.json` åŒ…å«è®¿é—®token
   - è¿™äº›æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šæäº¤åˆ°Git

2. **å®šæœŸæ£€æŸ¥æƒé™**
   - åœ¨ https://myaccount.google.com/permissions æŸ¥çœ‹å·²æˆæƒçš„åº”ç”¨
   - å¦‚æœ‰éœ€è¦å¯ä»¥æ’¤é”€æƒé™

## â“ å¸¸è§é—®é¢˜

### Q: æµè§ˆå™¨æˆæƒå¤±è´¥
**A**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿èƒ½è®¿é—®GoogleæœåŠ¡

### Q: æ˜¾ç¤º"OAuthå‡­æ®æ–‡ä»¶ä¸å­˜åœ¨"
**A**: ç¡®è®¤æ–‡ä»¶è·¯å¾„ï¼š`config/youtube_oauth_credentials.json`

### Q: ä¸Šä¼ å¤±è´¥ 403 æƒé™é”™è¯¯
**A**: æ£€æŸ¥OAuthåŒæ„å±å¹•æ˜¯å¦æ­£ç¡®é…ç½®ï¼Œç¡®ä¿æ·»åŠ äº†æµ‹è¯•ç”¨æˆ·

### Q: Tokenè¿‡æœŸ
**A**: å·¥å…·ä¼šè‡ªåŠ¨åˆ·æ–°tokenï¼Œå¦‚æœå¤±è´¥ä¼šé‡æ–°å¯åŠ¨OAuthæµç¨‹

## ğŸ¯ ä¸‹ä¸€æ­¥

è®¾ç½®å®Œæˆåï¼Œä½ å°±å¯ä»¥ï¼š
1. ä½¿ç”¨ `python youtube_upload.py` è¿›è¡Œè‡ªåŠ¨åŒ–ä¸Šä¼ 
2. æ‰¹é‡å¤„ç†æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶
3. äº«å—å®Œå…¨è‡ªåŠ¨åŒ–çš„YouTubeå‘å¸ƒæµç¨‹

---

**ğŸ’¡ æç¤º**: é¦–æ¬¡è®¾ç½®å¯èƒ½éœ€è¦5-10åˆ†é’Ÿï¼Œä½†è®¾ç½®å®Œæˆåå°±èƒ½é•¿æœŸè‡ªåŠ¨åŒ–ä½¿ç”¨ï¼