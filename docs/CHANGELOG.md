# 更新日志

所有项目重要变更都记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，项目遵循 [语义化版本控制](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 重构项目目录结构，符合软件工程最佳实践
- 新增完整的项目结构文档（PROJECT_STRUCTURE.md）
- 统一docs目录组织，按功能分类管理
- 创建统一的YouTube播客设置指南

### 优化
- 清理根目录临时文档，精简到核心文件
- 合并重复的配置和说明文档
- 改进文档导航和索引系统
- 修正.gitignore确保敏感文件安全

### 修复
- 修复YouTube播客生成器IDE错误和类型注解问题
- 统一日志系统调用，使用_log方法
- 改进ElevenLabs类型注解和导入处理
- 修复VoiceSettings参数传递错误

## [2025-07-29] - YouTube播客功能完善

### 新增
- 支持超长播客内容生成，移除3000字符限制
- 增强的TTS引擎选择和错误处理机制
- 自动音频加速功能（1.5倍速）
- 完整的本地TTS备用系统

### 优化
- 智能播客长度调整，基于原视频时长动态计算
- 改进的文本清理和处理逻辑
- 更好的错误提示和调试信息
- gTTS重试机制防止网络问题

### 修复
- 解决长视频内容截断问题
- 修复多种TTS引擎兼容性问题
- 改进Podcastfy API调用稳定性
- 优化音频格式转换逻辑

## [2025-07-27] - 文章规范化改进

### 新增
- 建立25-35字最佳标题长度规范
- 统一excerpt字段要求（50-60字）
- 优化3×2网格布局显示效果

### 优化
- 修复过短标题长度问题
- 提升关键词密度和可读性
- 同步AI生成规范到自动化流程
- 避免YAML引号嵌套问题

## [2025-07-25] - 博客分类系统重构

### 新增
- 四大核心分类体系：🧠认知升级、🛠️技术赋能、🌍全球视野、💰投资理财
- 完整的分类页面系统，包含详细说明
- 2x2响应式布局展示分类导航
- 智能文章分类算法

### 优化
- 主页布局优化，解决间距和显示问题
- 分类页面从密集4列改为列表显示
- 订阅区域标题间距调整
- 改进视觉一致性和用户体验

### 修复
- 解决内容分类导航高度过高问题
- 修复标题上方间距过大
- 更正分类页面文章显示方式
- 完成14篇历史文章重新分类

## [2025-07-24] - 系统优化和日志增强

### 新增
- 统一的.build/logs/目录结构
- 智能日志级别过滤
- 会话跟踪和文件轮转
- 项目结构重构（core/、utils/、tools/子目录）

### 优化
- 测试文章生成流程，清除双重front matter
- Gemini prompt优化，生成更清洁内容
- 内容清理逻辑改进
- 减少重复日志记录

### 修复
- 修复Jekyll Assets路径问题，使用baseurl变量
- 解决Tesla文章音频播放器问题
- 修复OneDrive GIF图片显示问题
- 清理重复测试文件

## [2025-07-16] - 微信发布功能重大升级

### 新增
- 双模式发布系统：API直接发布 + 手动发布指导
- 永久素材管理接口集成
- 智能API限制管理和调用量跟踪
- AI两阶段内容优化（精简 + 移动端排版）
- 图片自动上传到微信服务器
- 完整的多平台发布状态跟踪
- 自动生成详细发布指南文件

### 优化
- 条件内容显示（投资文章风险声明）
- 微信内容处理和格式转换
- HTML清理和移动端优化
- OneDrive图片处理流程

### 修复
- 微信API权限问题调查和解决
- IP白名单配置要求
- API调用限制和错误处理

## [2025-07-12] - AI模型升级

### 新增
- 升级到Gemini 2.5 Flash模型
- 支持更强的推理能力和100万token上下文
- 模型配置统一管理

### 优化
- 内容生成质量提升
- 响应速度和准确性改进
- 成本优化的模型选择

### 技术细节
- 更新所有硬编码模型版本从`gemini-2.0-flash-exp`到`gemini-2.5-flash`
- 验证可用模型：`gemini-2.5-pro`、`gemini-2.5-flash`、`gemini-2.5-flash-lite`

## [更早版本]

### 核心功能建立
- 多平台发布系统（GitHub Pages、微信公众号、WordPress）
- YouTube播客生成器基础功能
- 内容处理管道和AI集成
- Jekyll站点集成和配置管理
- 打赏和内容变现系统

---

## 版本说明

- **新增**: 新功能
- **优化**: 对现有功能的改进
- **修复**: Bug修复
- **安全**: 安全相关的修复
- **弃用**: 即将移除的功能
- **移除**: 已移除的功能

每个版本都包含了详细的技术实现说明和影响分析，确保变更的透明度和可追溯性。